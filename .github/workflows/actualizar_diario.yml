name: Actualizar Devocional Diario

on:
  schedule:
    # Se ejecuta a las 00:01 Hora Colombia (UTC-5)
    # 00:01 Colombia = 05:01 UTC
    - cron: '1 5 * * *'
  workflow_dispatch: # Permite ejecutarlo manualmente desde la pesta침a Actions

jobs:
  update-video:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    
    steps:
    - name: Checkout del c칩digo
      uses: actions/checkout@v3

    - name: Instalar Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'

    - name: Ejecutar script de actualizaci칩n
      run: node actualizar_devocional.js

    - name: Guardar cambios (Commit & Push)
      uses: stefanzweifel/git-auto-commit-action@v4
      with:
        commit_message: "游닟 Actualizaci칩n autom치tica: Devocional del d칤a"
        branch: main